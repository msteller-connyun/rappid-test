/*! Rappid v3.0.0 - HTML5 Diagramming Framework - TRIAL VERSION

Copyright (c) 2015 client IO

 2019-08-09 


This Source Code Form is subject to the terms of the Rappid Trial License
, v. 2.0. If a copy of the Rappid License was not distributed with this
file, You can obtain one at http://jointjs.com/license/rappid_v2.txt
 or from the Rappid archive as was distributed by client IO. See the LICENSE file.*/


this.joint=this.joint||{},function(t,e,i){"use strict";var s=i.Dialog.extend({className:i.Dialog.prototype.className+" flash-message",options:e.util.merge({},i.Dialog.prototype.options,{closeButton:!0,modal:!1,cascade:!0,closeAnimation:{delay:2e3,duration:200,easing:"swing",properties:{opacity:0}},openAnimation:{duration:200,easing:"swing",properties:{opacity:1}}}),init:function(){e.util.bindAll(this,"startCloseAnimation"),i.Dialog.prototype.init.apply(this,arguments),this.on("close:animation:complete",this.close,this)},open:function(){i.Dialog.prototype.open.apply(this,arguments);var t=this.$(".fg");return this._foregroundHeight=t.height(),this.addToCascade(),t.css("height",0),this.startOpenAnimation(),this.options.closeAnimation&&this.options.closeAnimation.delay&&setTimeout(this.startCloseAnimation,this.options.closeAnimation.delay),this},close:function(){return i.Dialog.prototype.close.apply(this,arguments),this.removeFromCascade(),this},addToCascade:function(){if(this.options.cascade){var t=this.constructor.top;this.$(".fg").css("top",t),this.constructor.top+=this._foregroundHeight+this.constructor.padding}this.constructor.opened.push(this)},removeFromCascade:function(){if(this.options.cascade){for(var t=this.constructor.opened,i=!1,o=0;o<t.length;o++){var s=t[o];if(s.options.cascade&&i){var n=parseInt(s.$(".fg").css("top"),10);s.$(".fg").css("top",n-this._foregroundHeight-this.constructor.padding)}s===this&&(i=!0)}i&&(this.constructor.top-=this._foregroundHeight+this.constructor.padding)}this.constructor.opened=e.util.without(this.constructor.opened,this)},startCloseAnimation:function(){this.$(".fg").animate(this.options.closeAnimation.properties,e.util.assign({complete:function(){this.trigger("close:animation:complete")}.bind(this)},this.options.closeAnimation))},startOpenAnimation:function(){this.$(".fg").animate(e.util.assign({},this.options.openAnimation.properties,{height:this._foregroundHeight}),e.util.assign({complete:function(){this.trigger("open:animation:complete")}.bind(this)},this.options.openAnimation))}},{top:20,padding:15,opened:[],open:function(t,i,o){return o=o||{},new s(e.util.assign({title:i,type:"info",content:t},o)).open(o.target)},close:function(){e.util.invoke(this.opened,"close")}});t.FlashMessage=s}(this.joint.ui=this.joint.ui||{},joint,joint.ui);